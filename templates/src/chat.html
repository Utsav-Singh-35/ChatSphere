{% extends 'index.html' %}
{% load static %}

{% block content %}

<body class="chat-page">
    <div class="chat-container">

        {% include 'src/chat-sidebar.html' %}

        <!-- <div class="chat-sidebar">
            <div class="user-profile">
                <a href="{% url 'profile' %}">
                    <img src="{% static 'images/default-avatar.svg' %}" alt="Profile" class="profile-img">
                    <h3 class="user-name">{{ current_user.username }}</h3>
                </a>

                <div class="profile-actions">
                    <a href="{% url 'profile' %}"><i class="fa-solid fa-user"></i> Profile</a>
                    <a href="#" class="active"><i class="fas fa-comment"></i> Chats</a>
                    <a href="{% url 'temporary' %}"><i class="fas fa-cog"></i> Settings</a>
                    <a href="{% url 'temporary' %}"><i class="fas fa-question-circle"></i> Help</a>
                    <a href="{% url 'temporary' %}"><i class="fas fa-info-circle"></i> About</a>
                    <a href="#" class="feedback-btn" id="feedback-btn">
                        <i class="fas fa-comment-dots"></i> Feedback
                    </a>
                    <a href="{% url 'logout' %}" class="sidebar-logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
        </div> -->

        <div class="chat-list">
            <h1>Chats</h1>
            <div class="search-box">
                <input type="text" placeholder="Search contacts..." id="search-contacts">
                <i class="fas fa-search"></i>
            </div>

            {% if users %}
            <div class="contacts-list">
                {% for user in users %}
                <div class="contact-item" data-user-id="{{ user.id }}">
                    <img src="{% static 'images/default-avatar.svg' %}" alt="{{ user.username }}" class="contact-avatar">
                    <div class="contact-info">
                        <h4>{{ user.username }}</h4>
                        <p class="last-message">Click to start chatting</p>
                    </div>
                    <span class="message-time"></span>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="no-contacts">
                <p>No other users registered yet.</p>
            </div>
            {% endif %}
        </div>

        <div class="chat-main">
            <div class="chat-header">
                <div class="chat-contact-info">
                    <img src="{% static 'images/default-avatar.svg' %}" alt="Contact" class="contact-img">
                    <h3 class="contact-name">{{ current_user.username }}</h3>
                </div>
            </div>

            <div class="chat-messages">
                <!-- Messages will appear here -->
            </div>

            <div class="chat-input-area">
                <input type="text" id="message-input" placeholder="Type your message...">
                <button id="send-button">Send</button>
            </div>
        </div>

    </div>
    <script src="{% static 'js/chat.js' %}"></script>
</body>
{% endblock content %}